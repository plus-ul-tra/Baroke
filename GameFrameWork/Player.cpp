#include "cpch.h"
#include "Player.h"

using namespace DirectX;
using namespace std;

Player::Player(float posX, float posY, float width, float height, XMFLOAT4 color) //
{
    // 깔끔하게 보기위해 AddComponent 에서 생성자파라미터 X
    // Set 함수 각자 만들어서 초기화 (Transform, Collider 참고)
    m_transform = AddComponent<Transform>();
    m_Collider  = AddComponent<Collider2D>();
    //GeoRender는 collider2D 있는 경우만 사용
    m_geoRender = AddComponent<GeoRender>();
    
    m_transform->SetPosition(XMVectorSet(posX, posY, 0.0f, 1.0f));
    m_transform->SetScale(XMVectorSet(1.0f, 1.0f, 1.0f, 1.0f));
    m_transform->SetRotation(0.0f);

    m_Collider->SetColliderType(ColliderType::Circle);
    m_Collider->SetSize(100.0f, 100.0f); //collider 크기는 별도 지정
    m_Collider->SetColor(color); //컬러는 사실 GeoRender에서 결정해도됨

    m_geoRender->SetActive(true); //렌더링 활성화, 나중에 일괄로 바꿀 것
    m_geoRender->SetOrder(50);

}

void Player::FixedUpdate(double deltaTime)
{
	//Components 들의 업데이트임
	Object::FixedUpdate(deltaTime);
}

void Player::Update(double deltaTime)
{
    //Components 들의 업데이트임
    Object::Update(deltaTime); //이건 아닐 수도 있음
    //위치 상태 등 모든 component에 대한 변화(update) 는 여기서
    // 조작 되어야 할 것 같음.
}

void Player::LateUpdate(double deltaTime)
{
	//Components 들의 업데이트임
	Object::LateUpdate(deltaTime);
}




